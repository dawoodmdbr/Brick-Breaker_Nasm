     1                                  [org 0x0100]
     2 00000000 E9210D                  jmp start
     3                                  
     4 00000003 00                      start_game: db 0
     5 00000004 00000000                oldisr: dd 0
     6 00000008 0000                    colume: dw 0
     7 0000000A 0000                    row: dw 0
     8 0000000C 01                      incC: db 1
     9 0000000D 01                      incR: db 1
    10 0000000E 00                      ball_angle: db 0
    11 0000000F 0000                    previous: dw 0
    12 00000011 00                      tickcount: db 0
    13 00000012 BE0D                    left_edge: dw 3518
    14 00000014 4A0E                    right_edge: dw 3658
    15 00000016 0000                    right_: dw 0
    16 00000018 0000                    left_: dw 0
    17 0000001A 040E                    pre_stack_pos: dw 3588
    18 0000001C 0000                    second: dw 0
    19 0000001E 00                      minute: db 0
    20 0000001F 00                      clock: db 0
    21 00000020 0000                    bonus: dw 0
    22                                  
    23                                  bricks_start_location:
    24 00000022 2A033C034E03600372-         dw 810, 828, 846, 864, 882, 900, 918, 936
    24 0000002B 0384039603A803     
    25 00000032 0A051C052E05400552-         dw 1290, 1308, 1326, 1344, 1362, 1380, 1398, 1416
    25 0000003B 05640576058805     
    26 00000042 EA06FC060E07200732-         dw 1770, 1788, 1806, 1824, 1842, 1860, 1878, 1896
    26 0000004B 07440756076807     
    27 00000052 CA08DC08EE08000912-     	dw 2250, 2268, 2286, 2304, 2322, 2340, 2358, 2376
    27 0000005B 09240936094809     
    28                                  
    29                                  bricks_end_location:
    30 00000062 360348035A036C037E-         dw 822, 840, 858, 876, 894, 912, 930, 948
    30 0000006B 039003A203B403     
    31 00000072 160528053A054C055E-         dw 1302, 1320, 1338, 1356, 1374, 1392, 1410, 1428
    31 0000007B 05700582059405     
    32 00000082 F60608071A072C073E-         dw 1782, 1800, 1818, 1836, 1854, 1872, 1890, 1908
    32 0000008B 07500762077407     
    33 00000092 D608E808FA080C091E-     	dw 2262, 2280, 2298, 2316, 2334, 2352, 2370, 2388
    33 0000009B 09300942095409     
    34                                  
    35 000000A2 0000                    score: dw 0
    36 000000A4 2000                    total_bricks: dw 32
    37 000000A6 0000                    calculated_location: dw 0
    38 000000A8 0000                    left_limit: dw 0
    39 000000AA 0000                    right_limit: dw 0
    40 000000AC 0000                    mid: dw 0
    41 000000AE 00                      left_or_right: db 0
    42 000000AF 0000                    preBall: dw 0
    43 000000B1 03                      live: db 3
    44 000000B2 0000                    end_of_game: dw 0
    45 000000B4 00                      StayOnStacker: db 0
    46 000000B5 00                      solid: db 0
    47 000000B6 00                      solid1: db 0
    48                                  
    49 000000B7 57454C434F4D452054-     welcome_str: db "WELCOME TO BRICK BREAKER"
    49 000000C0 4F20425249434B2042-
    49 000000C9 5245414B4552       
    50 000000CF 3234462D3330353320-     group_str: db '24F-3053 | 24F-3119'
    50 000000D8 7C203234462D333131-
    50 000000E1 39                 
    51 000000E2 555345204152524F57-     instructions_str: db "USE ARROW KEYS TO MOVE AND SPACE TO START"
    51 000000EB 204B45595320544F20-
    51 000000F4 4D4F564520414E4420-
    51 000000FD 535041434520544F20-
    51 00000106 5354415254         
    52 0000010B 505245535320454E54-     play_str: db "PRESS ENTER TO PLAY GAME"
    52 00000114 455220544F20504C41-
    52 0000011D 592047414D45       
    53 00000123 454143482042524943-     score_rule_str: db 'EACH BRICK = 5 POINTS'
    53 0000012C 4B203D203520504F49-
    53 00000135 4E5453             
    54 00000138 505245535320455343-     esc_exit_str: db 'PRESS ESC TO EXIT'
    54 00000141 20544F2045584954   
    55 00000149 594F555220544F5441-     ttl_live_str: db 'YOUR TOTAL LIVES ARE 3'
    55 00000152 4C204C495645532041-
    55 0000015B 52452033           
    56 0000015F 424F4E555320415741-     bonus_note_str: db 'BONUS AWARDED IF BREAK ALL BRICKS IN 2 MINS' 
    56 00000168 524445442049462042-
    56 00000171 5245414B20414C4C20-
    56 0000017A 425249434B5320494E-
    56 00000183 2032204D494E53     
    57 0000018A 48495454494E472052-     solid_base_str: db 'HITTING RED BRICK WILL SOLIDIFY YOUR BASE'
    57 00000193 454420425249434B20-
    57 0000019C 57494C4C20534F4C49-
    57 000001A5 4449465920594F5552-
    57 000001AE 2042415345         
    58 000001B3 505245535320535041-     space_bar: db 'PRESS SPACE BAR TO RELEASE BALL'
    58 000001BC 43452042415220544F-
    58 000001C5 2052454C4541534520-
    58 000001CE 42414C4C           
    59 000001D2 594F555220544F5441-     total_score_str: db 'YOUR TOTAL SCORES :'
    59 000001DB 4C2053434F52455320-
    59 000001E4 3A                 
    60 000001E5 4C495645532052454D-     lives_remain_str: db 'LIVES REMAINING'
    60 000001EE 41494E494E47       
    61 000001F4 505245535320452054-     exit_str: db 'PRESS E TO EXIT'
    61 000001FD 4F2045584954       
    62 00000203 505245535320454E54-     quit_str: db 'PRESS ENTER+Q TO QUIT GAME'
    62 0000020C 45522B5120544F2051-
    62 00000215 5549542047414D45   
    63 0000021D 505245535320454E54-     restart_str: db 'PRESS ENTER+R TO RESTART YOUR GAME'
    63 00000226 45522B5220544F2052-
    63 0000022F 45535441525420594F-
    63 00000238 55522047414D45     
    64 0000023F 555345205249474854-     left_arrow: db 'USE RIGHT & LEFT ARROW TO MOVE BAR'
    64 00000248 2026204C4546542041-
    64 00000251 52524F5720544F204D-
    64 0000025A 4F564520424152     
    65 00000261 53434F5245              Score_str: db 'SCORE'
    66 00000266 4C49564553              Lives_str: db 'LIVES'
    67 0000026B 54494D4520              time_str: db 'TIME '
    68 00000270 424F4E555320415741-     bonus_msg_str: db 'BONUS AWARDED: +50 POINTS!'
    68 00000279 524445443A202B3530-
    68 00000282 20504F494E545321   
    69 0000028A 54494D452054414B45-     time_taken_str: db 'TIME TAKEN :'
    69 00000293 4E203A             
    70 00000296 7365636F6E6473          seconds_str: db 'seconds'
    71                                  
    72 0000029D 4745542052454B5420-     Lose_str: db 'GET REKT NOOB GG'
    72 000002A6 4E4F4F42204747     
    73 000002AD 4D414A4F5220534B49-     skill_issue_str: db 'MAJOR SKILL ISSUE'
    73 000002B6 4C4C204953535545   
    74 000002BE 572047414D4552204D-     Win_str: db 'W GAMER MOMENT GG!'
    74 000002C7 4F4D454E5420474721 
    75 000002D0 494E53414E4520434C-     clutch_str: db 'INSANE CLUTCH +50 BONUS LETS GO!'
    75 000002D9 55544348202B353020-
    75 000002E2 424F4E5553204C4554-
    75 000002EB 5320474F21         
    76 000002F0 46494E414C2053434F-     final_score_str: db 'FINAL SCORE: '
    76 000002F9 52453A20           
    77 000002FD 4850204C4546543A20      hp_left_str: db 'HP LEFT: '
    78 00000306 54494D453A20            speedrun_str: db 'TIME: '
    79 0000030C 736563                  secs_str: db 'sec'
    80 0000030F 5220544F2052554E20-     run_back_str: db 'R TO RUN IT BACK BRO'
    80 00000318 4954204241434B2042-
    80 00000321 524F               
    81 00000323 45534320544F205241-     rage_quit_str: db 'ESC TO RAGE QUIT'
    81 0000032C 47452051554954     
    82                                  
    83                                  sound:
    84 00000333 50                      	push ax
    85 00000334 53                      	push bx
    86 00000335 B0B6                    	mov al,182
    87 00000337 E643                    	out 43h,al
    88 00000339 B8D011                  	mov ax, 4560
    89 0000033C E642                    	out 42h,al
    90 0000033E 88E0                    	mov al,ah
    91 00000340 E642                    	out 42h,al
    92 00000342 E461                    	in al,61h
    93 00000344 0C03                    	or al,00000011b
    94 00000346 E661                    	out 61h,al
    95 00000348 BB0200                  	mov bx,2
    96                                  	pre:
    97 0000034B B9FFFF                  	mov cx,65535
    98                                  	pre1:
    99 0000034E 49                      	dec cx
   100 0000034F 75FD                    	jne pre1
   101 00000351 4B                      	dec bx
   102 00000352 75F7                    	jne pre
   103 00000354 E461                    	in al,61h
   104 00000356 24FC                    	and al,11111100b
   105 00000358 E661                    	out 61h,al 
   106 0000035A 5B                      	pop bx
   107 0000035B 58                      	pop ax
   108 0000035C C3                      	ret 
   109                                  
   110                                  sound_paddle:
   111 0000035D 50                      	push ax
   112 0000035E 53                      	push bx
   113 0000035F B0B6                    	mov al,182
   114 00000361 E643                    	out 43h,al
   115 00000363 B8E808                  	mov ax, 2280
   116 00000366 E642                    	out 42h,al
   117 00000368 88E0                    	mov al,ah
   118 0000036A E642                    	out 42h,al
   119 0000036C E461                    	in al,61h
   120 0000036E 0C03                    	or al,00000011b
   121 00000370 E661                    	out 61h,al
   122 00000372 BB0100                  	mov bx,1
   123                                  	paddle_pre:
   124 00000375 B9FFFF                  	mov cx,65535
   125                                  	paddle_pre1:
   126 00000378 49                      	dec cx
   127 00000379 75FD                    	jne paddle_pre1
   128 0000037B 4B                      	dec bx
   129 0000037C 75F7                    	jne paddle_pre
   130 0000037E E461                    	in al,61h
   131 00000380 24FC                    	and al,11111100b
   132 00000382 E661                    	out 61h,al 
   133 00000384 5B                      	pop bx
   134 00000385 58                      	pop ax
   135 00000386 C3                      	ret
   136                                  
   137                                  sound_life_lost:
   138 00000387 50                      	push ax
   139 00000388 53                      	push bx
   140 00000389 51                      	push cx
   141 0000038A 52                      	push dx
   142 0000038B B0B6                    	mov al,182
   143 0000038D E643                    	out 43h,al
   144 0000038F B8401F                  	mov ax, 8000
   145 00000392 E642                    	out 42h,al
   146 00000394 88E0                    	mov al,ah
   147 00000396 E642                    	out 42h,al
   148 00000398 E461                    	in al,61h
   149 0000039A 0C03                    	or al,00000011b
   150 0000039C E661                    	out 61h,al
   151 0000039E BB0300                  	mov bx,3
   152                                  	life_pre1:
   153 000003A1 B9FFFF                  	mov cx,65535
   154                                  	life_pre1_inner:
   155 000003A4 49                      	dec cx
   156 000003A5 75FD                    	jne life_pre1_inner
   157 000003A7 4B                      	dec bx
   158 000003A8 75F7                    	jne life_pre1
   159 000003AA B81027                  	mov ax, 10000
   160 000003AD E642                    	out 42h,al
   161 000003AF 88E0                    	mov al,ah
   162 000003B1 E642                    	out 42h,al
   163 000003B3 BB0300                  	mov bx,3
   164                                  	life_pre2:
   165 000003B6 B9FFFF                  	mov cx,65535
   166                                  	life_pre2_inner:
   167 000003B9 49                      	dec cx
   168 000003BA 75FD                    	jne life_pre2_inner
   169 000003BC 4B                      	dec bx
   170 000003BD 75F7                    	jne life_pre2
   171 000003BF E461                    	in al,61h
   172 000003C1 24FC                    	and al,11111100b
   173 000003C3 E661                    	out 61h,al 
   174 000003C5 5A                      	pop dx
   175 000003C6 59                      	pop cx
   176 000003C7 5B                      	pop bx
   177 000003C8 58                      	pop ax
   178 000003C9 C3                      	ret
   179                                  
   180                                  sound_game_won:
   181 000003CA 50                      	push ax
   182 000003CB 53                      	push bx
   183 000003CC 51                      	push cx
   184 000003CD 52                      	push dx
   185 000003CE B0B6                    	mov al,182
   186 000003D0 E643                    	out 43h,al
   187 000003D2 B8B80B                  	mov ax, 3000
   188 000003D5 E642                    	out 42h,al
   189 000003D7 88E0                    	mov al,ah
   190 000003D9 E642                    	out 42h,al
   191 000003DB E461                    	in al,61h
   192 000003DD 0C03                    	or al,00000011b
   193 000003DF E661                    	out 61h,al
   194 000003E1 BB0200                  	mov bx,2
   195                                  	won_pre1:
   196 000003E4 B9FFFF                  	mov cx,65535
   197                                  	won_pre1_inner:
   198 000003E7 49                      	dec cx
   199 000003E8 75FD                    	jne won_pre1_inner
   200 000003EA 4B                      	dec bx
   201 000003EB 75F7                    	jne won_pre1
   202 000003ED B86009                  	mov ax, 2400
   203 000003F0 E642                    	out 42h,al
   204 000003F2 88E0                    	mov al,ah
   205 000003F4 E642                    	out 42h,al
   206 000003F6 BB0200                  	mov bx,2
   207                                  	won_pre2:
   208 000003F9 B9FFFF                  	mov cx,65535
   209                                  	won_pre2_inner:
   210 000003FC 49                      	dec cx
   211 000003FD 75FD                    	jne won_pre2_inner
   212 000003FF 4B                      	dec bx
   213 00000400 75F7                    	jne won_pre2
   214 00000402 B8D007                  	mov ax, 2000
   215 00000405 E642                    	out 42h,al
   216 00000407 88E0                    	mov al,ah
   217 00000409 E642                    	out 42h,al
   218 0000040B BB0200                  	mov bx,2
   219                                  	won_pre3:
   220 0000040E B9FFFF                  	mov cx,65535
   221                                  	won_pre3_inner:
   222 00000411 49                      	dec cx
   223 00000412 75FD                    	jne won_pre3_inner
   224 00000414 4B                      	dec bx
   225 00000415 75F7                    	jne won_pre3
   226 00000417 B8DC05                  	mov ax, 1500
   227 0000041A E642                    	out 42h,al
   228 0000041C 88E0                    	mov al,ah
   229 0000041E E642                    	out 42h,al
   230 00000420 BB0400                  	mov bx,4
   231                                  	won_pre4:
   232 00000423 B9FFFF                  	mov cx,65535
   233                                  	won_pre4_inner:
   234 00000426 49                      	dec cx
   235 00000427 75FD                    	jne won_pre4_inner
   236 00000429 4B                      	dec bx
   237 0000042A 75F7                    	jne won_pre4
   238 0000042C E461                    	in al,61h
   239 0000042E 24FC                    	and al,11111100b
   240 00000430 E661                    	out 61h,al 
   241 00000432 5A                      	pop dx
   242 00000433 59                      	pop cx
   243 00000434 5B                      	pop bx
   244 00000435 58                      	pop ax
   245 00000436 C3                      	ret
   246                                  
   247                                  sound_game_lost:
   248 00000437 50                      	push ax
   249 00000438 53                      	push bx
   250 00000439 51                      	push cx
   251 0000043A 52                      	push dx
   252 0000043B B0B6                    	mov al,182
   253 0000043D E643                    	out 43h,al
   254 0000043F B8B80B                  	mov ax, 3000
   255 00000442 E642                    	out 42h,al
   256 00000444 88E0                    	mov al,ah
   257 00000446 E642                    	out 42h,al
   258 00000448 E461                    	in al,61h
   259 0000044A 0C03                    	or al,00000011b
   260 0000044C E661                    	out 61h,al
   261 0000044E BB0300                  	mov bx,3
   262                                  	lost_pre1:
   263 00000451 B9FFFF                  	mov cx,65535
   264                                  	lost_pre1_inner:
   265 00000454 49                      	dec cx
   266 00000455 75FD                    	jne lost_pre1_inner
   267 00000457 4B                      	dec bx
   268 00000458 75F7                    	jne lost_pre1
   269 0000045A B8A00F                  	mov ax, 4000
   270 0000045D E642                    	out 42h,al
   271 0000045F 88E0                    	mov al,ah
   272 00000461 E642                    	out 42h,al
   273 00000463 BB0300                  	mov bx,3
   274                                  	lost_pre2:
   275 00000466 B9FFFF                  	mov cx,65535
   276                                  	lost_pre2_inner:
   277 00000469 49                      	dec cx
   278 0000046A 75FD                    	jne lost_pre2_inner
   279 0000046C 4B                      	dec bx
   280 0000046D 75F7                    	jne lost_pre2
   281 0000046F B87017                  	mov ax, 6000
   282 00000472 E642                    	out 42h,al
   283 00000474 88E0                    	mov al,ah
   284 00000476 E642                    	out 42h,al
   285 00000478 BB0300                  	mov bx,3
   286                                  	lost_pre3:
   287 0000047B B9FFFF                  	mov cx,65535
   288                                  	lost_pre3_inner:
   289 0000047E 49                      	dec cx
   290 0000047F 75FD                    	jne lost_pre3_inner
   291 00000481 4B                      	dec bx
   292 00000482 75F7                    	jne lost_pre3
   293 00000484 B82823                  	mov ax, 9000
   294 00000487 E642                    	out 42h,al
   295 00000489 88E0                    	mov al,ah
   296 0000048B E642                    	out 42h,al
   297 0000048D BB0500                  	mov bx,5
   298                                  	lost_pre4:
   299 00000490 B9FFFF                  	mov cx,65535
   300                                  	lost_pre4_inner:
   301 00000493 49                      	dec cx
   302 00000494 75FD                    	jne lost_pre4_inner
   303 00000496 4B                      	dec bx
   304 00000497 75F7                    	jne lost_pre4
   305 00000499 E461                    	in al,61h
   306 0000049B 24FC                    	and al,11111100b
   307 0000049D E661                    	out 61h,al 
   308 0000049F 5A                      	pop dx
   309 000004A0 59                      	pop cx
   310 000004A1 5B                      	pop bx
   311 000004A2 58                      	pop ax
   312 000004A3 C3                      	ret
   313                                  
   314                                  start_menu:
   315 000004A4 50                      	push ax
   316 000004A5 E83501                  	call clrscr
   317 000004A8 B83805                  	mov ax, 1336
   318 000004AB 50                      	push ax
   319 000004AC B8[B700]                	mov ax, welcome_str
   320 000004AF 50                      	push ax
   321 000004B0 B81800                  	mov ax, 24
   322 000004B3 50                      	push ax
   323 000004B4 E89A00                  	call printstr
   324 000004B7 B8DC05                  	mov ax, 1500
   325 000004BA 50                      	push ax
   326 000004BB B8[CF00]                	mov ax, group_str
   327 000004BE 50                      	push ax
   328 000004BF B81300                  	mov ax, 19
   329 000004C2 50                      	push ax
   330 000004C3 E88B00                  	call printstr
   331 000004C6 B81807                  	mov ax, 1816
   332 000004C9 50                      	push ax
   333 000004CA B8[4901]                	mov ax, ttl_live_str
   334 000004CD 50                      	push ax
   335 000004CE B81600                  	mov ax, 22
   336 000004D1 50                      	push ax
   337 000004D2 E87C00                  	call printstr
   338 000004D5 B8BA07                  	mov ax, 1978
   339 000004D8 50                      	push ax
   340 000004D9 B8[2301]                	mov ax, score_rule_str
   341 000004DC 50                      	push ax
   342 000004DD B81500                  	mov ax, 21
   343 000004E0 50                      	push ax
   344 000004E1 E86D00                  	call printstr
   345 000004E4 B84808                  	mov ax, 2120
   346 000004E7 50                      	push ax
   347 000004E8 B8[E200]                	mov ax, instructions_str
   348 000004EB 50                      	push ax
   349 000004EC B82900                  	mov ax, 41
   350 000004EF 50                      	push ax
   351 000004F0 E85E00                  	call printstr
   352 000004F3 B89809                  	mov ax, 2456
   353 000004F6 50                      	push ax
   354 000004F7 B8[0B01]                	mov ax, play_str
   355 000004FA 50                      	push ax
   356 000004FB B81800                  	mov ax, 24
   357 000004FE 50                      	push ax
   358 000004FF E87D00                  	call printstr_B
   359 00000502 B83E0A                  	mov ax, 2622
   360 00000505 50                      	push ax
   361 00000506 B8[3801]                	mov ax, esc_exit_str
   362 00000509 50                      	push ax
   363 0000050A B81100                  	mov ax, 17
   364 0000050D 50                      	push ax
   365 0000050E E84000                  	call printstr
   366 00000511 58                      	pop ax
   367 00000512 C3                      	ret
   368                                  	
   369                                  printnum: 
   370 00000513 55                      	push bp
   371 00000514 89E5                    	mov bp, sp
   372 00000516 06                      	push es
   373 00000517 50                      	push ax
   374 00000518 53                      	push bx
   375 00000519 51                      	push cx
   376 0000051A 52                      	push dx
   377 0000051B 57                      	push di
   378 0000051C B800B8                  	mov ax, 0xb800
   379 0000051F 8EC0                    	mov es, ax
   380 00000521 8B4604                  	mov ax, [bp+4]
   381 00000524 BB0A00                  	mov bx, 10
   382 00000527 B90000                  	mov cx, 0
   383                                  	nextdigit: 
   384 0000052A BA0000                  		mov dx, 0
   385 0000052D F7F3                    		div bx
   386 0000052F 80C230                  		add dl, 0x30
   387 00000532 52                      		push dx
   388 00000533 41                      		inc cx
   389 00000534 83F800                  		cmp ax, 0
   390 00000537 75F1                    		jnz nextdigit
   391 00000539 8B7E06                  	mov di, [bp+6]
   392                                  	nextpos:
   393 0000053C 5A                      		pop dx
   394 0000053D B607                    		mov dh, 0x07
   395 0000053F 268915                  		mov [es:di], dx
   396 00000542 83C702                  		add di, 2
   397 00000545 E2F5                    		loop nextpos
   398 00000547 5F                      	pop di
   399 00000548 5A                      	pop dx
   400 00000549 59                      	pop cx
   401 0000054A 5B                      	pop bx
   402 0000054B 58                      	pop ax
   403 0000054C 07                      	pop es
   404 0000054D 5D                      	pop bp
   405 0000054E C20400                  	ret 4
   406                                  
   407                                  printstr:
   408 00000551 55                      	push bp
   409 00000552 89E5                    	mov bp, sp
   410 00000554 06                      	push es
   411 00000555 50                      	push ax
   412 00000556 51                      	push cx
   413 00000557 56                      	push si
   414 00000558 57                      	push di
   415 00000559 B800B8                  	mov ax, 0xb800
   416 0000055C 8EC0                    	mov es, ax
   417 0000055E 8B7E08                  	mov di, [bp+8]
   418 00000561 8B7606                  	mov si, [bp+6]
   419 00000564 8B4E04                  	mov cx, [bp+4]
   420 00000567 B407                    	mov ah, 0x07
   421                                  	nextchar: 
   422 00000569 8A04                    		mov al, [si]
   423 0000056B 268905                  		mov [es:di], ax
   424 0000056E 83C702                  		add di, 2
   425 00000571 83C601                  		add si, 1
   426 00000574 E2F3                    		loop nextchar
   427 00000576 5F                      	pop di
   428 00000577 5E                      	pop si
   429 00000578 59                      	pop cx
   430 00000579 58                      	pop ax
   431 0000057A 07                      	pop es
   432 0000057B 5D                      	pop bp
   433 0000057C C20600                  	ret 6
   434                                  
   435                                  printstr_B:
   436 0000057F 55                      	push bp
   437 00000580 89E5                    	mov bp, sp
   438 00000582 06                      	push es
   439 00000583 50                      	push ax
   440 00000584 51                      	push cx
   441 00000585 56                      	push si
   442 00000586 57                      	push di
   443 00000587 B800B8                  	mov ax, 0xb800
   444 0000058A 8EC0                    	mov es, ax
   445 0000058C 8B7E08                  	mov di, [bp+8]
   446 0000058F 8B7606                  	mov si, [bp+6]
   447 00000592 8B4E04                  	mov cx, [bp+4]
   448 00000595 B48E                    	mov ah, 0x8e
   449                                  	nextchar1: 
   450 00000597 8A04                    		mov al, [si]
   451 00000599 268905                  		mov [es:di], ax
   452 0000059C 83C702                  		add di, 2
   453 0000059F 83C601                  		add si, 1
   454 000005A2 E2F3                    		loop nextchar1
   455 000005A4 5F                      	pop di
   456 000005A5 5E                      	pop si
   457 000005A6 59                      	pop cx
   458 000005A7 58                      	pop ax
   459 000005A8 07                      	pop es
   460 000005A9 5D                      	pop bp
   461 000005AA C20600                  	ret 6
   462                                  
   463                                  printStrings:
   464 000005AD 50                      	push ax
   465 000005AE B8A200                  	mov ax, 162
   466 000005B1 50                      	push ax
   467 000005B2 B8[6102]                	mov ax, Score_str
   468 000005B5 50                      	push ax
   469 000005B6 B80500                  	mov ax, 5
   470 000005B9 50                      	push ax
   471 000005BA E894FF                  	call printstr
   472 000005BD B8E600                  	mov ax, 230
   473 000005C0 50                      	push ax
   474 000005C1 B8[6B02]                	mov ax, time_str
   475 000005C4 50                      	push ax
   476 000005C5 B80500                  	mov ax, 5
   477 000005C8 50                      	push ax
   478 000005C9 E885FF                  	call printstr
   479 000005CC B81801                  	mov ax, 280
   480 000005CF 50                      	push ax
   481 000005D0 B8[6602]                	mov ax, Lives_str
   482 000005D3 50                      	push ax
   483 000005D4 B80500                  	mov ax, 5
   484 000005D7 50                      	push ax
   485 000005D8 E876FF                  	call printstr
   486 000005DB 58                      	pop ax
   487 000005DC C3                      	ret
   488                                  
   489                                  clrscr: 
   490 000005DD 06                      	push es
   491 000005DE 50                      	push ax
   492 000005DF 51                      	push cx
   493 000005E0 57                      	push di
   494 000005E1 B800B8                  	mov ax, 0xb800
   495 000005E4 8EC0                    	mov es, ax
   496 000005E6 31FF                    	xor di, di
   497 000005E8 B82007                  	mov ax, 0x0720
   498 000005EB B9D007                  	mov cx, 2000
   499 000005EE FC                      	cld
   500 000005EF F3AB                    	rep stosw
   501 000005F1 5F                      	pop di 
   502 000005F2 59                      	pop cx
   503 000005F3 58                      	pop ax
   504 000005F4 07                      	pop es
   505 000005F5 C3                      	ret 
   506                                  
   507                                  border:
   508 000005F6 50                      	push ax
   509 000005F7 06                      	push es
   510 000005F8 57                      	push di
   511 000005F9 51                      	push cx
   512 000005FA B800B8                  	mov ax, 0xb800
   513 000005FD 8EC0                    	mov es, ax
   514 000005FF B407                    	mov ah, 0x07
   515 00000601 B0C4                    	mov al, 0xC4
   516 00000603 BFE001                  	mov di, 480
   517 00000606 B95000                  	mov cx, 80
   518 00000609 F3AB                    	rep stosw
   519 0000060B 2E803E[B500]01          	cmp byte[cs:solid], 1
   520 00000611 7504                    	jne normal_bottom
   521 00000613 B44F                    		mov ah, 0x4F
   522 00000615 EB02                    		jmp draw_bottom
   523                                  	normal_bottom:
   524 00000617 B407                    		mov ah, 0x07
   525                                  	draw_bottom:
   526 00000619 B0C4                    		mov al, 0xC4
   527 0000061B BF600E                  		mov di, 3680
   528 0000061E B95000                  		mov cx, 80
   529 00000621 F3AB                    		rep stosw
   530 00000623 B407                    	mov ah, 0x07
   531 00000625 B0B3                    	mov al, 0xB3
   532 00000627 BFE001                  	mov di, 480
   533 0000062A B91500                  	mov cx, 21
   534                                  	left_loop:
   535 0000062D 268905                  		mov word[es:di], ax
   536 00000630 81C7A000                		add di, 160
   537 00000634 E2F7                    		loop left_loop
   538 00000636 B407                    	mov ah, 0x07
   539 00000638 B0B3                    	mov al, 0xB3
   540 0000063A BF7E02                  	mov di, 638
   541 0000063D B91500                  	mov cx, 21
   542                                  	right_loop:
   543 00000640 268905                  		mov word[es:di], ax
   544 00000643 81C7A000                		add di, 160
   545 00000647 E2F7                    		loop right_loop
   546 00000649 BFE001                  	mov di, 480
   547 0000064C B8DA07                  	mov ax, 0x07DA
   548 0000064F 268905                  	mov word[es:di], ax
   549 00000652 BF7E02                  	mov di, 638
   550 00000655 B8BF07                  	mov ax, 0x07BF
   551 00000658 268905                  	mov word[es:di], ax
   552 0000065B BF600E                  	mov di, 3680
   553 0000065E B8C007                  	mov ax, 0x07C0
   554 00000661 268905                  	mov word[es:di], ax
   555 00000664 BFFE0E                  	mov di, 3838
   556 00000667 B8D907                  	mov ax, 0x07D9
   557 0000066A 268905                  	mov word[es:di], ax
   558 0000066D 59                      	pop cx
   559 0000066E 5F                      	pop di
   560 0000066F 07                      	pop es
   561 00000670 58                      	pop ax
   562 00000671 C3                      	ret
   563                                  
   564                                  brick_remove:
   565 00000672 06                          push es
   566 00000673 50                          push ax
   567 00000674 52                          push dx
   568 00000675 51                          push cx
   569 00000676 56                          push si
   570 00000677 53                          push bx
   571 00000678 57                          push di
   572 00000679 B800B8                      mov ax, 0xb800
   573 0000067C 8EC0                        mov es, ax
   574 0000067E B92000                      mov cx, 32
   575 00000681 BE0000                      mov si, 0
   576 00000684 2E8B16[A600]                mov dx, [cs:calculated_location]
   577                                  check_brick_loop:
   578 00000689 2E8B84[2200]                mov ax, word [cs:bricks_start_location + si]
   579 0000068E 2E8B9C[6200]                mov bx, word [cs:bricks_end_location + si]
   580 00000693 83F8FF                      cmp ax, 0xFFFF
   581 00000696 740A                        je skip_this_brick
   582 00000698 39C2                        cmp dx, ax
   583 0000069A 7206                        jb skip_this_brick
   584 0000069C 39DA                        cmp dx, bx
   585 0000069E 7702                        ja skip_this_brick
   586 000006A0 EB07                        jmp remove_this_brick
   587                                  skip_this_brick:
   588 000006A2 83C602                      add si, 2
   589 000006A5 E2E2                        loop check_brick_loop
   590 000006A7 EB45                        jmp end_brick_remove
   591                                  remove_this_brick:
   592 000006A9 2E8BBC[2200]                mov di, word [cs:bricks_start_location + si]
   593 000006AE 81FF4E03                    cmp di, 846
   594 000006B2 7506                        jne not_special_brick
   595 000006B4 2EC606[B500]01                  mov byte [cs:solid], 1
   596                                      not_special_brick:
   597 000006BA 51                          push cx
   598 000006BB B90600                      mov cx, 6
   599 000006BE B82007                      mov ax, 0x0720
   600 000006C1 F3AB                        rep stosw
   601 000006C3 59                          pop cx
   602 000006C4 2EC784[2200]FFFF            mov word [cs:bricks_start_location + si], 0xFFFF
   603 000006CB 2EC784[6200]FFFF            mov word [cs:bricks_end_location + si], 0xFFFF
   604 000006D2 E85EFC                      call sound
   605 000006D5 2E8306[A200]05              add word [cs:score], 5
   606 000006DB 2EFF0E[A400]                dec word [cs:total_bricks]
   607 000006E0 50                          push ax
   608 000006E1 B8AE00                      mov ax, 174
   609 000006E4 50                          push ax
   610 000006E5 2EFF36[A200]                push word [cs:score]
   611 000006EA E826FE                      call printnum
   612 000006ED 58                          pop ax
   613                                  end_brick_remove:
   614 000006EE 5F                          pop di
   615 000006EF 5B                          pop bx
   616 000006F0 5E                          pop si
   617 000006F1 59                          pop cx
   618 000006F2 5A                          pop dx
   619 000006F3 58                          pop ax
   620 000006F4 07                          pop es
   621 000006F5 C3                          ret
   622                                  
   623                                  bricks:
   624 000006F6 06                          push es
   625 000006F7 51                          push cx
   626 000006F8 53                          push bx
   627 000006F9 56                          push si
   628 000006FA 57                          push di
   629 000006FB B800B8                      mov ax, 0xb800
   630 000006FE 8EC0                        mov es, ax
   631 00000700 BE0000                      mov si, 0
   632 00000703 FC                          cld
   633                                  row1_start:
   634 00000704 BF2A03                      mov di, 810
   635 00000707 B90800                      mov cx, 8
   636                                  row1_loop:
   637 0000070A 51                          push cx
   638 0000070B B460                        mov ah, 0x60
   639 0000070D B020                        mov al, 0x20
   640 0000070F B90600                      mov cx, 6
   641 00000712 F3AB                        rep stosw
   642 00000714 B90300                      mov cx, 3
   643 00000717 B82007                      mov ax, 0x0720
   644 0000071A F3AB                        rep stosw
   645 0000071C 59                          pop cx
   646 0000071D E2EB                        loop row1_loop
   647                                  row2_start:
   648 0000071F BF0A05                      mov di, 1290
   649 00000722 B90800                      mov cx, 8
   650                                  row2_loop:
   651 00000725 51                          push cx
   652 00000726 B420                        mov ah, 0x20
   653 00000728 B020                        mov al, 0x20
   654 0000072A B90600                      mov cx, 6
   655 0000072D F3AB                        rep stosw
   656 0000072F B90300                      mov cx, 3
   657 00000732 B82007                      mov ax, 0x0720
   658 00000735 F3AB                        rep stosw
   659 00000737 59                          pop cx
   660 00000738 E2EB                        loop row2_loop
   661                                  row3_start:
   662 0000073A BFEA06                      mov di, 1770
   663 0000073D B90800                      mov cx, 8
   664                                  row3_loop:
   665 00000740 51                          push cx
   666 00000741 B430                        mov ah, 0x30
   667 00000743 B020                        mov al, 0x20
   668 00000745 B90600                      mov cx, 6
   669 00000748 F3AB                        rep stosw
   670 0000074A B90300                      mov cx, 3
   671 0000074D B82007                      mov ax, 0x0720
   672 00000750 F3AB                        rep stosw
   673 00000752 59                          pop cx
   674 00000753 E2EB                        loop row3_loop
   675                                  row4_start:
   676 00000755 BFCA08                      mov di, 2250
   677 00000758 B90800                      mov cx, 8
   678                                  row4_loop:
   679 0000075B 51                          push cx
   680 0000075C B450                        mov ah, 0x50
   681 0000075E B020                        mov al, 0x20
   682 00000760 B90600                      mov cx, 6
   683 00000763 F3AB                        rep stosw
   684 00000765 B90300                      mov cx, 3
   685 00000768 B82007                      mov ax, 0x0720
   686 0000076B F3AB                        rep stosw
   687 0000076D 59                          pop cx
   688 0000076E E2EB                        loop row4_loop
   689                                      
   690 00000770 5F                          pop di
   691 00000771 5E                          pop si
   692 00000772 5B                          pop bx
   693 00000773 59                          pop cx
   694 00000774 07                          pop es
   695 00000775 C3                          ret
   696                                  
   697                                  
   698                                  clearStacker:
   699 00000776 55                      	push bp
   700 00000777 89E5                    	mov bp, sp
   701 00000779 06                      	push es
   702 0000077A 50                      	push ax
   703 0000077B 57                      	push di
   704 0000077C 51                      	push cx
   705 0000077D B800B8                  	mov ax, 0xb800
   706 00000780 8EC0                    	mov es, ax
   707 00000782 B82007                  	mov ax, 0x0720
   708 00000785 B90F00                  	mov cx, 15
   709 00000788 8B7E04                  	mov di, [bp+4]
   710 0000078B F3AB                    	rep stosw
   711 0000078D 2E8B3E[AF00]            	mov di, [cs:preBall]
   712 00000792 268905                  	mov word[es:di], ax
   713 00000795 59                      	pop cx
   714 00000796 5F                      	pop di
   715 00000797 58                      	pop ax
   716 00000798 07                      	pop es
   717 00000799 5D                      	pop bp
   718 0000079A C20200                  	ret 2
   719                                  
   720                                  printStacker:
   721 0000079D 55                      	push bp
   722 0000079E 89E5                    	mov bp, sp
   723 000007A0 06                      	push es
   724 000007A1 50                      	push ax
   725 000007A2 57                      	push di
   726 000007A3 51                      	push cx
   727 000007A4 B800B8                  	mov ax, 0xb800
   728 000007A7 8EC0                    	mov es, ax
   729 000007A9 B020                    	mov al, 0x20
   730 000007AB B410                    	mov ah, 0x10
   731 000007AD B90F00                  	mov cx, 15
   732 000007B0 8B7E04                  	mov di, [bp+4]
   733 000007B3 2E893E[A800]            	mov word[cs:left_limit], di
   734 000007B8 F3AB                    	rep stosw
   735 000007BA 83EF02                  	sub di, 2
   736 000007BD 2E893E[AA00]            	mov word[cs:right_limit], di
   737 000007C2 2EA1[AA00]              	mov ax, word[cs:right_limit]
   738 000007C6 83E80E                  	sub ax, 14
   739 000007C9 2EA3[AC00]              	mov word[cs:mid], ax
   740 000007CD 2DA000                  	sub ax, 160
   741 000007D0 89C7                    	mov di, ax
   742 000007D2 D1E8                    	shr ax, 1
   743 000007D4 2D9006                  	sub ax, 1680
   744 000007D7 89C1                    	mov cx, ax
   745 000007D9 2E803E[B400]01          	cmp byte[cs:StayOnStacker], 1
   746 000007DF 752F                    	jne endi
   747 000007E1 B06F                    		mov al, 'o'
   748 000007E3 B407                    		mov ah, 0x07
   749 000007E5 268905                  		mov word[es:di], ax
   750 000007E8 2E893E[AF00]            		mov [cs:preBall], di
   751 000007ED 2EC706[0A00]1500        		mov word[cs:row], 21
   752 000007F4 2E890E[0800]            		mov word[cs:colume], cx
   753 000007F9 2E893E[0F00]            		mov word[cs:previous], di
   754 000007FE 2EC606[0E00]01          		mov byte[cs:ball_angle], 1
   755 00000804 2EC606[0C00]01          		mov byte[cs:incC], 1
   756 0000080A 2EC606[0D00]00          		mov byte[cs:incR], 0
   757                                  	endi:
   758 00000810 59                      	pop cx
   759 00000811 5F                      	pop di
   760 00000812 58                      	pop ax
   761 00000813 07                      	pop es
   762 00000814 5D                      	pop bp
   763 00000815 C20200                  	ret 2
   764                                  
   765                                  stacker:
   766 00000818 50                      	push ax
   767 00000819 57                      	push di
   768 0000081A 2E833E[1600]01          	cmp word[cs:right_], 1
   769 00000820 740A                    	je movRight
   770 00000822 2E833E[1800]01          	cmp word[cs:left_], 1
   771 00000828 7423                    	je movLeft
   772 0000082A EB40                    	jmp exit1
   773                                  	movRight:
   774 0000082C 2EA1[1A00]              		mov ax, word[cs:pre_stack_pos]
   775 00000830 83C008                  		add ax, 8
   776 00000833 2E3B06[1400]            		cmp ax, word[cs:right_edge]
   777 00000838 7732                    		ja exit1
   778 0000083A 2E8B3E[1A00]            			mov di, word[cs:pre_stack_pos]
   779 0000083F 57                      			push di
   780 00000840 E833FF                  			call clearStacker
   781 00000843 50                      			push ax
   782 00000844 E856FF                  			call printStacker
   783 00000847 2EA3[1A00]              			mov word[cs:pre_stack_pos], ax
   784 0000084B EB1F                    			jmp exit1
   785                                  	movLeft:
   786 0000084D 2EA1[1A00]              		mov ax, word[cs:pre_stack_pos]
   787 00000851 83E808                  		sub ax, 8
   788 00000854 2E3B06[1200]            		cmp ax, word[cs:left_edge]
   789 00000859 7211                    		jb exit1
   790 0000085B 2E8B3E[1A00]            			mov di, word[cs:pre_stack_pos]
   791 00000860 57                      			push di
   792 00000861 E812FF                  			call clearStacker
   793 00000864 50                      			push ax
   794 00000865 E835FF                  			call printStacker
   795 00000868 2EA3[1A00]              			mov word[cs:pre_stack_pos], ax
   796                                  	exit1:
   797 0000086C 5F                      		pop di
   798 0000086D 58                      		pop ax
   799 0000086E C3                      	ret
   800                                  
   801                                  calculate_position: 
   802 0000086F 55                      	push bp
   803 00000870 89E5                    	mov bp, sp
   804 00000872 50                      	push ax
   805 00000873 B050                    	mov al, 80
   806 00000875 F66604                  	mul byte[bp+4]
   807 00000878 034606                  	add ax, [bp+6]
   808 0000087B D1E0                    	shl ax, 1
   809 0000087D 2EA3[A600]              	mov word[cs:calculated_location], ax
   810 00000881 58                      	pop ax
   811 00000882 5D                      	pop bp
   812 00000883 C20400                  	ret 4
   813                                  
   814                                  nextposition:
   815 00000886 50                      	push ax
   816 00000887 53                      	push bx
   817 00000888 51                      	push cx
   818 00000889 2EA0[0C00]              	mov al, [cs:incC]
   819 0000088D 2E8A26[0D00]            	mov ah, [cs:incR]
   820 00000892 2E8B1E[0800]            	mov bx, [cs:colume]
   821 00000897 2E8B0E[0A00]            	mov cx, [cs:row]
   822 0000089C 2E833E[0800]03          	cmp word[cs:colume], 3
   823 000008A2 750A                    	jne check_right_wall_next
   824 000008A4 B001                    		mov al, 1
   825 000008A6 2EC606[0E00]01          		mov byte[cs:ball_angle], 1
   826 000008AC EB10                    		jmp rowCheck3
   827                                  	check_right_wall_next:
   828 000008AE 2E833E[0800]4D          	cmp word[cs:colume], 77
   829 000008B4 7508                    	jne rowCheck3
   830 000008B6 B000                    		mov al, 0
   831 000008B8 2EC606[0E00]01          		mov byte[cs:ball_angle], 1
   832                                  	rowCheck3:
   833 000008BE 2E833E[0A00]04          		cmp word[cs:row], 4
   834 000008C4 7504                    		jne nextcond5
   835 000008C6 B401                    			mov ah, 1
   836 000008C8 EB0A                    			jmp printingLocation1
   837                                  		nextcond5:
   838 000008CA 2E833E[0A00]16          			cmp word[cs:row], 22
   839 000008D0 7502                    			jne printingLocation1
   840 000008D2 B400                    				mov ah, 0
   841                                  	printingLocation1:
   842 000008D4 2E803E[0E00]00          		cmp byte[cs:ball_angle], 0
   843 000008DA 740E                    		je skip_horizontal_nextpos
   844 000008DC 3C01                    		cmp al, 1
   845 000008DE 7505                    		jne nextcond6
   846 000008E0 83C301                  			add bx, 1
   847 000008E3 EB05                    			jmp rowCheck4
   848                                  		nextcond6:
   849 000008E5 83EB01                  			sub bx, 1
   850 000008E8 EB00                    			jmp rowCheck4
   851                                  	skip_horizontal_nextpos:
   852                                  	rowCheck4:
   853 000008EA 80FC01                  		cmp ah, 1
   854 000008ED 7505                    		jne nextcond7
   855 000008EF 83C101                  			add cx, 1
   856 000008F2 EB03                    			jmp calculatelocation1
   857                                  		nextcond7:
   858 000008F4 83E901                  			sub cx, 1
   859                                  	calculatelocation1:
   860 000008F7 53                      		push bx
   861 000008F8 51                      		push cx
   862 000008F9 E873FF                  		call calculate_position
   863 000008FC 59                      	pop cx
   864 000008FD 5B                      	pop bx
   865 000008FE 58                      	pop ax
   866 000008FF C3                      	ret
   867                                  
   868                                  left_right:
   869 00000900 50                      	push ax
   870 00000901 2EA1[A600]              	mov ax, word[cs:calculated_location]
   871 00000905 2E3B06[AC00]            	cmp ax, [cs:mid]
   872 0000090A 770F                    	ja check_right
   873 0000090C 2E3B06[A800]            	cmp ax, [cs:left_limit]
   874 00000911 7215                    	jb endit
   875 00000913 2EC606[AE00]00          	mov byte[cs:left_or_right], 0
   876 00000919 EB0D                    	jmp endit
   877                                  	check_right:
   878 0000091B 2E3B06[AA00]            	cmp ax, [cs:right_limit]
   879 00000920 7706                    	ja endit
   880 00000922 2EC606[AE00]01          	mov byte[cs:left_or_right], 1
   881                                  	endit:
   882 00000928 58                      	pop ax
   883 00000929 C3                      	ret
   884                                  
   885                                  check_middle_paddle:
   886 0000092A 50                      	push ax
   887 0000092B 53                      	push bx
   888 0000092C 2EA1[A600]              	mov ax, word[cs:calculated_location]
   889 00000930 2E8B1E[AC00]            	mov bx, word[cs:mid]
   890 00000935 83EB05                  	sub bx, 5
   891 00000938 39D8                    	cmp ax, bx
   892 0000093A 7214                    	jb not_middle_paddle
   893 0000093C 2E8B1E[AC00]            	mov bx, word[cs:mid]
   894 00000941 83C305                  	add bx, 5
   895 00000944 39D8                    	cmp ax, bx
   896 00000946 7708                    	ja not_middle_paddle
   897 00000948 2EC606[AE00]02          	mov byte[cs:left_or_right], 2
   898 0000094E EB03                    	jmp end_middle_check
   899                                  not_middle_paddle:
   900 00000950 E8ADFF                  	call left_right
   901                                  end_middle_check:
   902 00000953 5B                      	pop bx
   903 00000954 58                      	pop ax
   904 00000955 C3                      	ret
   905                                  
   906                                  ball:
   907 00000956 06                      	push es
   908 00000957 50                      	push ax
   909 00000958 53                      	push bx
   910 00000959 51                      	push cx
   911 0000095A 57                      	push di
   912 0000095B B800B8                  	mov ax, 0xb800
   913 0000095E 8EC0                    	mov es, ax
   914 00000960 2E8B3E[0F00]            	mov di, [cs:previous]
   915 00000965 26C7052007              	mov word[es:di], 0x0720
   916 0000096A E819FF                  	call nextposition
   917 0000096D 2E8B3E[A600]            	mov di, [cs:calculated_location]
   918 00000972 268B05                  	mov ax, word[es:di]
   919 00000975 80FC10                  	cmp ah, 0x10
   920 00000978 7416                    	je paddle_collision
   921 0000097A 80FC07                  	cmp ah, 0x07
   922 0000097D 0F848800                	je R
   923 00000981 80FC40                  	cmp ah, 0x40
   924 00000984 744A                    	je ceiling_collision
   925 00000986 80FCB0                  	cmp ah, 0xb0
   926 00000989 7447                    	je border_collision
   927 0000098B E8E4FC                  	call brick_remove
   928 0000098E EB5B                    	jmp reflect_vertical
   929                                  paddle_collision:
   930 00000990 E8CAF9                  	call sound_paddle
   931 00000993 E894FF                  	call check_middle_paddle
   932 00000996 2EC606[0D00]00          	mov byte[cs:incR], 0
   933 0000099C 2E803E[AE00]02          	cmp byte[cs:left_or_right], 2
   934 000009A2 7424                    	je hit_middle_paddle
   935 000009A4 2E803E[AE00]01          	cmp byte[cs:left_or_right], 1
   936 000009AA 750E                    	jne hit_left_side
   937 000009AC 2EC606[0E00]01          		mov byte[cs:ball_angle], 1
   938 000009B2 2EC606[0C00]01          		mov byte[cs:incC], 1
   939 000009B8 EB4F                    		jmp R
   940                                  	hit_left_side:
   941 000009BA 2EC606[0E00]01          		mov byte[cs:ball_angle], 1
   942 000009C0 2EC606[0C00]00          		mov byte[cs:incC], 0
   943 000009C6 EB41                    		jmp R
   944                                  hit_middle_paddle:
   945 000009C8 2EC606[0E00]00          	mov byte[cs:ball_angle], 0
   946 000009CE EB39                    	jmp R
   947                                  ceiling_collision:
   948 000009D0 EB19                    	jmp reflect_vertical
   949                                  border_collision:
   950 000009D2 E82BFF                  	call left_right
   951 000009D5 2E803E[AE00]01          	cmp byte[cs:left_or_right], 1
   952 000009DB 7508                    	jne border_left
   953 000009DD 2EC606[0C00]01          		mov byte[cs:incC], 1
   954 000009E3 EB06                    		jmp reflect_vertical
   955                                  	border_left:
   956 000009E5 2EC606[0C00]00          		mov byte[cs:incC], 0
   957                                  reflect_vertical:
   958 000009EB 2E803E[0D00]01          	cmp byte[cs:incR], 1
   959 000009F1 7508                    	jne r1
   960 000009F3 2EC606[0D00]00          		mov byte[cs:incR], 0
   961 000009F9 EB0E                    		jmp R
   962                                  	r1:
   963 000009FB 2E803E[0D00]00          		cmp byte[cs:incR], 0
   964 00000A01 7506                    		jne R
   965 00000A03 2EC606[0D00]01          			mov byte[cs:incR], 1
   966                                  R:
   967 00000A09 2E833E[0800]03          	cmp word[cs:colume], 3
   968 00000A0F 750E                    	jne nextcond
   969 00000A11 2EC606[0C00]01          		mov byte[cs:incC], 1
   970 00000A17 2EC606[0E00]01          		mov byte[cs:ball_angle], 1
   971 00000A1D EB14                    		jmp rowCheck
   972                                  	nextcond:
   973 00000A1F 2E833E[0800]4D          		cmp word[cs:colume], 77
   974 00000A25 750C                    		jne rowCheck
   975 00000A27 2EC606[0C00]00          			mov byte[cs:incC], 0
   976 00000A2D 2EC606[0E00]01          			mov byte[cs:ball_angle], 1
   977                                  	rowCheck:
   978 00000A33 2E833E[0A00]04          		cmp word[cs:row], 4
   979 00000A39 7508                    		jne nextcond1
   980 00000A3B 2EC606[0D00]01          			mov byte[cs:incR], 1
   981 00000A41 EB79                    			jmp printingLocation
   982                                  	nextcond1:
   983 00000A43 2E803E[B500]00          		cmp byte[cs:solid], 0
   984 00000A49 7563                    		jne solid12
   985 00000A4B 2E833E[0A00]16          			cmp word[cs:row], 22
   986 00000A51 7569                    			jne printingLocation
   987 00000A53 E831F9                  				call sound_life_lost
   988 00000A56 2EC606[B400]01          				mov byte[cs:StayOnStacker], 1
   989 00000A5C 2EA1[AC00]              				mov ax, word[cs:mid]
   990 00000A60 2DA000                  				sub ax, 160
   991 00000A63 89C7                    				mov di, ax
   992 00000A65 D1E8                    				shr ax, 1
   993 00000A67 2D9006                  				sub ax, 1680
   994 00000A6A 89C1                    				mov cx, ax
   995 00000A6C B06F                    				mov al, 'o'
   996 00000A6E B407                    				mov ah, 0x07
   997 00000A70 268905                  				mov word[es:di], ax
   998 00000A73 2E893E[AF00]            				mov [cs:preBall], di
   999 00000A78 2EC706[0A00]1500        				mov word[cs:row], 21
  1000 00000A7F 2E890E[0800]            				mov word[cs:colume], cx
  1001 00000A84 2E893E[0F00]            				mov word[cs:previous], di
  1002 00000A89 2EC606[0E00]01          				mov byte[cs:ball_angle], 1
  1003 00000A8F 2EC606[0C00]01          				mov byte[cs:incC], 1
  1004 00000A95 2EC606[0D00]00          				mov byte[cs:incR], 0
  1005 00000A9B 2E802E[B100]01          				sub byte[cs:live], 1
  1006 00000AA1 E85602                  				call print_lives
  1007 00000AA4 2E803E[B100]00          				cmp byte[cs:live], 0
  1008 00000AAA 7563                    				jne endii
  1009 00000AAC EB61                    				jmp endii
  1010                                  	solid12:
  1011 00000AAE 2E833E[0A00]17          		cmp word[cs:row], 23
  1012 00000AB4 7506                    		jne printingLocation
  1013 00000AB6 2EC606[0D00]00          			mov byte[cs:incR], 0
  1014                                  	printingLocation:
  1015 00000ABC 2E803E[0E00]00          		cmp byte[cs:ball_angle], 0
  1016 00000AC2 7418                    		je skip_horizontal_update
  1017 00000AC4 2E803E[0C00]01          		cmp byte[cs:incC], 1
  1018 00000ACA 7508                    		jne nextcond2
  1019 00000ACC 2E8306[0800]01          			add word[cs:colume], 1
  1020 00000AD2 EB08                    			jmp rowCheck1
  1021                                  		nextcond2:
  1022 00000AD4 2E832E[0800]01          			sub word[cs:colume], 1
  1023 00000ADA EB00                    			jmp rowCheck1
  1024                                  	skip_horizontal_update:
  1025                                  	rowCheck1:
  1026 00000ADC 2E803E[0D00]01          		cmp byte[cs:incR], 1
  1027 00000AE2 7508                    		jne nextcond3
  1028 00000AE4 2E8306[0A00]01          			add word[cs:row], 1
  1029 00000AEA EB06                    			jmp calculatelocation
  1030                                  		nextcond3:
  1031 00000AEC 2E832E[0A00]01          			sub word[cs:row], 1
  1032                                  	calculatelocation:
  1033 00000AF2 2EA1[0A00]              		mov ax, word[cs:row]
  1034 00000AF6 BB5000                  		mov bx, 80
  1035 00000AF9 F7E3                    		mul bx
  1036 00000AFB 2E0306[0800]            		add ax, word[cs:colume]
  1037 00000B00 D1E0                    		shl ax, 1
  1038 00000B02 89C7                    		mov di, ax
  1039 00000B04 2EA3[0F00]              		mov word[cs:previous], ax
  1040 00000B08 B407                    	mov ah, 0x07
  1041 00000B0A B06F                    	mov al, 'o'
  1042 00000B0C 268905                  	mov word[es:di], ax
  1043                                  	endii:
  1044 00000B0F 5F                      	pop di
  1045 00000B10 59                      	pop cx
  1046 00000B11 5B                      	pop bx
  1047 00000B12 58                      	pop ax
  1048 00000B13 07                      	pop es
  1049 00000B14 C3                      	ret
  1050                                  
  1051 00000B15 00                      call_instruction_menu: db 0
  1052                                  
  1053                                  instruction_menu:
  1054 00000B16 50                      	push ax
  1055 00000B17 E8C3FA                  	call clrscr
  1056 00000B1A B87201                  	mov ax, 370
  1057 00000B1D 50                      	push ax
  1058 00000B1E B8[E200]                	mov ax, instructions_str
  1059 00000B21 50                      	push ax
  1060 00000B22 B80B00                  	mov ax, 11
  1061 00000B25 50                      	push ax
  1062 00000B26 E856FA                  	call printstr_B
  1063 00000B29 B8B202                  	mov ax, 690
  1064 00000B2C 50                      	push ax
  1065 00000B2D B8[4901]                	mov ax, ttl_live_str
  1066 00000B30 50                      	push ax
  1067 00000B31 B81600                  	mov ax, 22
  1068 00000B34 50                      	push ax
  1069 00000B35 E819FA                  	call printstr
  1070 00000B38 B8F203                  	mov ax, 1010
  1071 00000B3B 50                      	push ax
  1072 00000B3C B8[0B01]                	mov ax, play_str
  1073 00000B3F 50                      	push ax
  1074 00000B40 B81800                  	mov ax, 24
  1075 00000B43 50                      	push ax
  1076 00000B44 E80AFA                  	call printstr
  1077 00000B47 B83205                  	mov ax, 1330
  1078 00000B4A 50                      	push ax
  1079 00000B4B B8[8A01]                	mov ax, solid_base_str
  1080 00000B4E 50                      	push ax
  1081 00000B4F B82900                  	mov ax, 41
  1082 00000B52 50                      	push ax
  1083 00000B53 E8FBF9                  	call printstr
  1084 00000B56 B87206                  	mov ax, 1650
  1085 00000B59 50                      	push ax
  1086 00000B5A B8[5F01]                	mov ax, bonus_note_str
  1087 00000B5D 50                      	push ax
  1088 00000B5E B82B00                  	mov ax, 43
  1089 00000B61 50                      	push ax
  1090 00000B62 E8ECF9                  	call printstr
  1091 00000B65 B8B207                  	mov ax, 1970
  1092 00000B68 50                      	push ax
  1093 00000B69 B8[B301]                	mov ax, space_bar
  1094 00000B6C 50                      	push ax
  1095 00000B6D B81F00                  	mov ax, 31
  1096 00000B70 50                      	push ax
  1097 00000B71 E8DDF9                  	call printstr
  1098 00000B74 B8F208                  	mov ax, 2290
  1099 00000B77 50                      	push ax
  1100 00000B78 B8[3F02]                	mov ax, left_arrow
  1101 00000B7B 50                      	push ax
  1102 00000B7C B82200                  	mov ax, 34
  1103 00000B7F 50                      	push ax
  1104 00000B80 E8CEF9                  	call printstr
  1105 00000B83 B8320A                  	mov ax, 2610
  1106 00000B86 50                      	push ax
  1107 00000B87 B8[F401]                	mov ax, exit_str
  1108 00000B8A 50                      	push ax
  1109 00000B8B B80F00                  	mov ax, 15
  1110 00000B8E 50                      	push ax
  1111 00000B8F E8BFF9                  	call printstr
  1112 00000B92 58                      	pop ax
  1113 00000B93 C3                      	ret
  1114                                  kbisr: 
  1115 00000B94 50                      	push ax
  1116 00000B95 06                      	push es
  1117                                  	
  1118 00000B96 2EC706[1600]0000        	mov word[cs:right_] , 0
  1119 00000B9D 2EC706[1800]0000        	mov word[cs:left_] , 0
  1120 00000BA4 B800B8                  	mov ax, 0xb800
  1121 00000BA7 8EC0                    	mov es, ax 
  1122                                  	
  1123 00000BA9 E460                    	in al, 0x60
  1124                                  	
  1125 00000BAB 803E[0300]00            	cmp byte[start_game] , 0
  1126 00000BB0 752C                    	jne main_game
  1127                                  
  1128 00000BB2 3C01                    	cmp al, 0x01
  1129 00000BB4 7508                    	jne check_enter
  1130 00000BB6 E824FA                  		call clrscr
  1131 00000BB9 B8004C                  	    mov ax, 0x4c00
  1132 00000BBC CD21                    	    int 0x21
  1133                                  
  1134                                  	check_enter:
  1135 00000BBE 3C1C                    	cmp al , 0x1c   ; Enter key
  1136 00000BC0 7508                    	jne cmp_instruction
  1137 00000BC2 C606[0300]01            	mov byte[start_game] , 1
  1138 00000BC7 E99500                  	jmp exit
  1139                                  	
  1140                                  cmp_instruction:
  1141 00000BCA 3C17                    	cmp al , 0x17
  1142 00000BCC 0F858F00                	jne exit
  1143 00000BD0 C606[150B]01            	mov byte[call_instruction_menu] , 1
  1144                                  	
  1145 00000BD5 803E[0300]01            	cmp byte[start_game] , 1
  1146 00000BDA 0F858100                	jne exit
  1147                                  main_game:
  1148 00000BDE 3C4B                    	cmp al, 0x4b
  1149 00000BE0 750C                    	jne nextcmp ; no, try next comparison
  1150 00000BE2 2EC706[1800]0100        		mov word[cs:left_] , 1
  1151 00000BE9 E82CFC                  		call stacker ; 
  1152 00000BEC EB71                    		jmp exit ; leave interrupt routine
  1153                                  	nextcmp: 
  1154 00000BEE 3C4D                    		cmp al, 0x4d ; right arrow
  1155 00000BF0 750C                    		jne nextcmp2  ; no, leave interrupt routine
  1156 00000BF2 2EC706[1600]0100        			mov word[cs:right_] , 1
  1157 00000BF9 E81CFC                  			call stacker
  1158 00000BFC EB61                    			jmp exit
  1159                                  	nextcmp2: 
  1160 00000BFE 3CAD                    		cmp al, 0xad ; has the A key released
  1161 00000C00 7502                    		jne nextcmp3 ; no, try next comparison
  1162                                  		;leave interrupt routine
  1163 00000C02 EB5B                    		jmp exit
  1164                                  	nextcmp3: 
  1165 00000C04 3CAB                    		cmp al, 0xab ; has the D key released
  1166 00000C06 7502                    		jne nextcmp4 ; no, chain to old ISR
  1167 00000C08 EB55                    		jmp exit 
  1168                                  	nextcmp4:
  1169 00000C0A 3C39                    		cmp al,0x39 ; space bar
  1170 00000C0C 7508                    		jne nextcmp5
  1171 00000C0E 2EC606[B400]00          			mov byte[cs:StayOnStacker],0
  1172 00000C14 EB49                    		jmp exit
  1173                                  	nextcmp5:
  1174 00000C16 3CB9                    	    cmp al, 0xb9        ; space bar released
  1175 00000C18 7502                    	    jne check_e_key
  1176 00000C1A EB43                    	    jmp exit
  1177                                  
  1178                                  	check_e_key:
  1179 00000C1C 3C12                    	    cmp al, 0x12        ; E key pressed (not released)
  1180 00000C1E 7510                    	    jne check_q_key
  1181 00000C20 2E803E[0300]01          	    cmp byte[cs:start_game], 1
  1182 00000C26 7537                    	    jne exit
  1183 00000C28 2EC606[230D]01          	    mov byte[cs:end_game], 1
  1184 00000C2E EB2F                    	    jmp exit
  1185                                  
  1186                                  	check_q_key:
  1187 00000C30 3C10                    	    cmp al, 0x10        ; Q key pressed
  1188 00000C32 7510                    	    jne check_r_key
  1189 00000C34 2E803E[230D]01          	    cmp byte[cs:end_game], 1  ; Only allow quit on end screen
  1190 00000C3A 7523                    	    jne exit
  1191 00000C3C 2EC606[100E]01          	    mov byte[cs:quit], 1
  1192 00000C42 EB1B                    	    jmp exit
  1193                                  
  1194                                  	check_r_key:
  1195 00000C44 3C13                    	    cmp al, 0x13        ; R key pressed
  1196 00000C46 7510                    	    jne nomatch
  1197 00000C48 2E803E[230D]01          	    cmp byte[cs:end_game], 1  ; Only allow restart on end screen
  1198 00000C4E 750F                    	    jne exit
  1199 00000C50 2EC606[0F0E]01          	    mov byte[cs:restart], 1
  1200 00000C56 EB07                    	    jmp exit
  1201                                  
  1202                                  	nomatch: 
  1203 00000C58 07                      	    pop es
  1204 00000C59 58                      	    pop ax
  1205 00000C5A 2EFF2E[0400]            	    jmp far [cs:oldisr]
  1206                                  
  1207                                  	exit:
  1208 00000C5F B020                    		mov al, 0x20
  1209 00000C61 E620                    		out 0x20, al 
  1210 00000C63 07                      	pop es
  1211 00000C64 58                      	pop ax 
  1212 00000C65 CF                      iret 
  1213                                  
  1214                                  timer: 
  1215 00000C66 2E803E[0300]01          	cmp byte[cs:start_game],1
  1216 00000C6C 755E                    	jne pp
  1217 00000C6E 2EFE06[1F00]            		inc byte[cs:clock]
  1218 00000C73 2E803E[1F00]12          		cmp byte[cs:clock],18
  1219 00000C79 750C                    		jne ppp
  1220 00000C7B 2E8306[1C00]01          			add word[cs:second],1
  1221 00000C81 2EC606[1F00]00          			mov byte[cs:clock],0
  1222                                  		ppp:
  1223 00000C87 2E803E[B500]01          		cmp byte[cs:solid],1
  1224 00000C8D 7513                    		jne po
  1225 00000C8F 2EFE06[B600]            			inc byte[cs:solid1]
  1226 00000C94 2E803E[B600]B4          			cmp byte[cs:solid1],180
  1227 00000C9A 7506                    			jne po
  1228 00000C9C 2EC606[B500]00          				mov byte[cs:solid],0
  1229                                  		po:
  1230 00000CA2 2EFF06[2000]            		inc word[cs:bonus]
  1231 00000CA7 2E813E[2000]7008        		cmp word[cs:bonus],2160
  1232 00000CAE 770E                    		jnbe pk
  1233 00000CB0 2E833E[A400]00          			cmp word[cs:total_bricks],0
  1234 00000CB6 7506                    			jne pk
  1235 00000CB8 2E8306[A200]32          				add word[cs:score],50
  1236                                  		pk:
  1237 00000CBE 50                      		push ax
  1238 00000CBF B8F200                  		mov ax , 242
  1239 00000CC2 50                      		push ax
  1240 00000CC3 2EA1[1C00]              		mov ax , word[cs:second]
  1241 00000CC7 50                      		push ax
  1242 00000CC8 E848F8                  		call printnum
  1243 00000CCB 58                      		pop ax
  1244                                  	pp:
  1245 00000CCC 2E803E[B400]00          	cmp byte[cs:StayOnStacker],0
  1246 00000CD2 7521                    	jne endof
  1247 00000CD4 2E803E[0300]01          	cmp byte[cs:start_game] , 1
  1248 00000CDA 7519                    	jne endof
  1249 00000CDC 2EFE06[1100]            		inc byte[cs:tickcount]
  1250 00000CE1 2E803E[1100]02          		cmp byte[cs:tickcount], 2
  1251 00000CE7 750C                    		jne endof
  1252 00000CE9 E86AFC                  			call ball
  1253 00000CEC E807F9                  			call border
  1254 00000CEF 2EC606[1100]00          			mov byte[cs:tickcount],0
  1255                                  			;jmp endiii
  1256                                  		endof:
  1257                                  		;cmp byte[cs:live],0
  1258                                  		;jne endiii
  1259                                  			;call youLose
  1260                                  		;endiii:
  1261 00000CF5 B020                    		mov al, 0x20
  1262 00000CF7 E620                    		out 0x20, al ; end of interrupt
  1263 00000CF9 CF                      iret ; return from interrupt 
  1264                                  
  1265                                  print_lives:
  1266 00000CFA 50                      	push ax
  1267 00000CFB 06                      	push es
  1268                                  	
  1269 00000CFC B800B8                  	mov ax , 0xb800
  1270 00000CFF 8EC0                    	mov es , ax
  1271 00000D01 B90300                  	mov cx , 3
  1272 00000D04 B82007                  	mov ax , 0x0720
  1273 00000D07 BF2401                  	mov di , 292
  1274 00000D0A F3AB                    	rep stosw
  1275                                  	
  1276 00000D0C 2E8A0E[B100]            	mov cl , byte[cs:live]
  1277 00000D11 B500                    	mov ch , 0
  1278 00000D13 B407                    	mov ah , 0x07
  1279 00000D15 B02A                    	mov al , '*'
  1280 00000D17 BF2401                  	mov di , 292
  1281 00000D1A F3AB                    	rep stosw
  1282                                  	
  1283 00000D1C 07                      	pop es
  1284 00000D1D 58                      	pop ax
  1285 00000D1E C3                      ret
  1286                                  
  1287 00000D1F 00000000                oldtmr: dd 0
  1288 00000D23 00                      end_game: db 0
  1289                                  start:
  1290                                  	
  1291 00000D24 31C0                    	xor ax, ax
  1292 00000D26 8EC0                    	mov es, ax
  1293                                  	
  1294 00000D28 26A12400                	mov ax, [es:9*4]
  1295 00000D2C A3[0400]                	mov [oldisr], ax
  1296 00000D2F 26A12600                	mov ax, [es:9*4+2]
  1297 00000D33 A3[0600]                	mov [oldisr+2], ax 
  1298                                  	
  1299 00000D36 26A12000                	mov ax, [es:8*4]
  1300 00000D3A A3[1F0D]                	mov [oldtmr], ax
  1301 00000D3D 26A12200                	mov ax, [es:8*4+2]
  1302 00000D41 A3[210D]                	mov [oldtmr+2], ax
  1303                                  	
  1304 00000D44 FA                      	cli
  1305 00000D45 26C7062400[940B]        		mov word [es:9*4], kbisr 
  1306 00000D4C 268C0E2600              		mov [es:9*4+2], cs 
  1307 00000D51 26C7062000[660C]        		mov word [es:8*4],timer
  1308 00000D58 268C0E2200              		mov [es:8*4+2],cs
  1309 00000D5D FB                      	sti
  1310                                  	
  1311 00000D5E E843F7                  	call start_menu
  1312                                  menu_loop:
  1313 00000D61 803E[150B]01            	cmp byte[call_instruction_menu] , 1
  1314 00000D66 7460                    	je instruction
  1315 00000D68 803E[0300]00            	cmp byte[start_game] , 0
  1316 00000D6D 74F2                    	je menu_loop
  1317 00000D6F 803E[230D]01            	cmp byte[end_game] , 1
  1318 00000D74 745E                    	je endgame
  1319                                  start_game_here:
  1320 00000D76 C606[0F0E]00            	mov byte[restart] , 0
  1321 00000D7B C606[100E]00            	mov byte[quit] , 0
  1322 00000D80 C606[0E00]01            	mov byte[ball_angle], 1
  1323 00000D85 C606[0C00]01            	mov byte[incC], 1
  1324 00000D8A C606[0D00]00            	mov byte[incR], 0
  1325 00000D8F E84BF8                  	call clrscr
  1326 00000D92 E818F8                  	call printStrings
  1327 00000D95 E862FF                  	call print_lives
  1328 00000D98 B8AE00                  	mov ax , 174
  1329 00000D9B 50                      	push ax
  1330 00000D9C FF36[A200]              	push word[score]
  1331 00000DA0 E870F7                  	call printnum
  1332 00000DA3 E850F8                  	call border
  1333 00000DA6 E84DF9                  	call bricks
  1334 00000DA9 C606[B400]01            	mov byte[StayOnStacker],1
  1335 00000DAE E867FA                  	call stacker 
  1336                                  game_inner_loop:
  1337                                  		; mov ax , 402
  1338                                  		; push ax
  1339                                  		; mov ax , [second]
  1340                                  		; push ax
  1341                                  		; call printnum
  1342                                  	
  1343 00000DB1 833E[A400]00            	cmp word[total_bricks] , 0
  1344 00000DB6 741C                    	je endgame
  1345 00000DB8 803E[230D]01            	cmp byte[end_game] , 1
  1346 00000DBD 7415                    	je endgame
  1347 00000DBF 803E[B100]00            	cmp byte[live] , 0
  1348 00000DC4 740E                    	je endgame
  1349 00000DC6 EBE9                    	jmp game_inner_loop
  1350                                  instruction:
  1351 00000DC8 E84BFD                  	call instruction_menu
  1352                                  again_ins:
  1353 00000DCB 803E[0300]01            	cmp byte[start_game] , 1
  1354 00000DD0 74A4                    	je start_game_here
  1355 00000DD2 75F7                    	jne again_ins
  1356                                  	
  1357                                  endgame:
  1358 00000DD4 C606[0300]00            mov byte[start_game] , 0
  1359 00000DD9 E83700                  call last_menu
  1360 00000DDC E8FEF7                  call clrscr
  1361 00000DDF 803E[0F0E]01            cmp byte[restart] , 1
  1362 00000DE4 7490                    je start_game_here
  1363 00000DE6 A1[0400]                mov ax , [oldisr]
  1364 00000DE9 8B1E[0600]              mov bx , [oldisr+2]
  1365 00000DED 8B0E[1F0D]              mov cx , [oldtmr]
  1366 00000DF1 8B16[210D]              mov dx , [oldtmr+2]
  1367 00000DF5 FA                      cli 
  1368 00000DF6 26A32400                mov [es:9*4] , ax
  1369 00000DFA 26891E2600              mov [es:9*4+2], bx
  1370 00000DFF 26890E2000              mov [es:8*4] , cx
  1371 00000E04 2689162200              mov [es:8*4+2], dx
  1372 00000E09 FB                      sti
  1373                                  
  1374 00000E0A B8004C                  mov ax , 0x4c00
  1375 00000E0D CD21                    int 0x21
  1376                                  
  1377                                  
  1378 00000E0F 00                      restart: db 0
  1379 00000E10 00                      quit: db 0
  1380 00000E11 0000                    variable: dw 0
  1381                                  
  1382                                  
  1383                                  last_menu:
  1384 00000E13 50                          push ax
  1385 00000E14 E8C6F7                      call clrscr
  1386                                      
  1387                                      ; Check if player lost (lives = 0)
  1388 00000E17 803E[B100]00                cmp byte[live], 0
  1389 00000E1C 7523                        jne check_win
  1390 00000E1E E816F6                          call sound_game_lost
  1391                                          
  1392                                          ; Display loss messages
  1393                                          ; Row 8, Col 32: (8*160) + (32*2) = 1280 + 64 = 1022
  1394 00000E21 B8FE03                          mov ax, 1022              
  1395 00000E24 50                              push ax
  1396 00000E25 B8[9D02]                        mov ax, Lose_str
  1397 00000E28 50                              push ax
  1398 00000E29 B81000                          mov ax, 16
  1399 00000E2C 50                              push ax
  1400 00000E2D E821F7                          call printstr
  1401                                          
  1402                                          ; Row 10, Col 31: (10*160) + (31*2) = 1600 + 62 = 1342
  1403 00000E30 B83E05                          mov ax, 1342              
  1404 00000E33 50                              push ax
  1405 00000E34 B8[AD02]                        mov ax, skill_issue_str
  1406 00000E37 50                              push ax
  1407 00000E38 B81100                          mov ax, 17
  1408 00000E3B 50                              push ax
  1409 00000E3C E812F7                          call printstr
  1410                                          
  1411 00000E3F EB30                            jmp display_stats
  1412                                          
  1413                                  check_win:
  1414 00000E41 833E[A400]00                cmp word[total_bricks], 0
  1415 00000E46 7529                        jne display_stats
  1416 00000E48 E87FF5                          call sound_game_won
  1417                                          
  1418                                          ; Display win messages
  1419                                          ; Row 8, Col 31: (8*160) + (31*2) = 1280 + 62 = 1022
  1420 00000E4B B8FE03                          mov ax, 1022              
  1421 00000E4E 50                              push ax
  1422 00000E4F B8[BE02]                        mov ax, Win_str
  1423 00000E52 50                              push ax
  1424 00000E53 B81200                          mov ax, 18
  1425 00000E56 50                              push ax
  1426 00000E57 E8F7F6                          call printstr
  1427                                          
  1428                                          ; Display bonus message if applicable
  1429 00000E5A 813E[2000]7008                  cmp word[bonus], 2160
  1430 00000E60 770F                            ja display_stats
  1431                                              ; Row 10, Col 24: (10*160) + (24*2) = 1600 + 48 = 1328
  1432 00000E62 B83005                              mov ax, 1328
  1433 00000E65 50                                  push ax
  1434 00000E66 B8[D002]                            mov ax, clutch_str
  1435 00000E69 50                                  push ax
  1436 00000E6A B82000                              mov ax, 32
  1437 00000E6D 50                                  push ax
  1438 00000E6E E8E0F6                              call printstr
  1439                                      
  1440                                  display_stats:
  1441                                      ; Display final score
  1442                                      ; Row 13, Col 33: (13*160) + (33*2) = 2080 + 66 = 2146
  1443 00000E71 B82007                      mov ax, 1824              
  1444 00000E74 50                          push ax
  1445 00000E75 B8[F002]                    mov ax, final_score_str
  1446 00000E78 50                          push ax
  1447 00000E79 B80D00                      mov ax, 13
  1448 00000E7C 50                          push ax
  1449 00000E7D E8D1F6                      call printstr
  1450                                      
  1451                                      ; Score value at Col 46: 2080 + (46*2) = 2080 + 92 = 2172
  1452 00000E80 B83C07                      mov ax, 1852              
  1453 00000E83 50                          push ax
  1454 00000E84 FF36[A200]                  push word[score]
  1455 00000E88 E888F6                      call printnum
  1456                                      
  1457                                      ; Display lives remaining
  1458                                      ; Row 15, Col 35: (15*160) + (35*2) = 2400 + 70 = 2470
  1459 00000E8B B86608                      mov ax, 2150              
  1460 00000E8E 50                          push ax
  1461 00000E8F B8[FD02]                    mov ax, hp_left_str
  1462 00000E92 50                          push ax
  1463 00000E93 B80900                      mov ax, 9
  1464 00000E96 50                          push ax
  1465 00000E97 E8B7F6                      call printstr
  1466                                      
  1467                                      ; Lives value at Col 44: 2400 + (44*2) = 2400 + 88 = 2488
  1468 00000E9A B87808                      mov ax, 2168              
  1469 00000E9D 50                          push ax
  1470 00000E9E FF36[B100]                  push word[live]
  1471 00000EA2 E86EF6                      call printnum
  1472                                      
  1473                                      ; Display time taken
  1474                                      ; Row 17, Col 37: (17*160) + (37*2) = 2720 + 74 = 2794
  1475 00000EA5 B8A209                      mov ax, 2466              
  1476 00000EA8 50                          push ax
  1477 00000EA9 B8[0603]                    mov ax, speedrun_str
  1478 00000EAC 50                          push ax
  1479 00000EAD B80600                      mov ax, 6
  1480 00000EB0 50                          push ax
  1481 00000EB1 E89DF6                      call printstr
  1482                                      
  1483                                      ; Time value at Col 43: 2720 + (43*2) = 2720 + 86 = 2806
  1484 00000EB4 B8AE09                      mov ax, 2478              
  1485 00000EB7 50                          push ax
  1486 00000EB8 FF36[1C00]                  push word[second]
  1487 00000EBC E854F6                      call printnum
  1488                                      
  1489                                      ; "sec" at Col 45: 2720 + (45*2) = 2720 + 90 = 2810
  1490 00000EBF B8B409                      mov ax, 2484              
  1491 00000EC2 50                          push ax
  1492 00000EC3 B8[0C03]                    mov ax, secs_str
  1493 00000EC6 50                          push ax
  1494 00000EC7 B80300                      mov ax, 3
  1495 00000ECA 50                          push ax
  1496 00000ECB E883F6                      call printstr
  1497                                      
  1498                                      ; Display restart option (highlighted)
  1499                                      ; Row 20, Col 29: (20*160) + (29*2) = 3200 + 58 = 3258
  1500 00000ECE B8BC0C                      mov ax, 3260              
  1501 00000ED1 50                          push ax
  1502 00000ED2 B8[0F03]                    mov ax, run_back_str
  1503 00000ED5 50                          push ax
  1504 00000ED6 B81400                      mov ax, 20
  1505 00000ED9 50                          push ax
  1506 00000EDA E8A2F6                      call printstr_B            
  1507                                      
  1508                                      ; Display quit option
  1509                                      ; Row 22, Col 33: (22*160) + (33*2) = 3520 + 66 = 3586
  1510 00000EDD B8000E                      mov ax, 3584              
  1511 00000EE0 50                          push ax
  1512 00000EE1 B8[2303]                    mov ax, rage_quit_str
  1513 00000EE4 50                          push ax
  1514 00000EE5 B81000                      mov ax, 16
  1515 00000EE8 50                          push ax
  1516 00000EE9 E893F6                      call printstr_B
  1517                                      
  1518                                  wait_input:
  1519 00000EEC 2E803E[0F0E]01              cmp byte[cs:restart], 1
  1520 00000EF2 740C                        je do_restart
  1521 00000EF4 2E803E[100E]01              cmp byte[cs:quit], 1
  1522 00000EFA 7402                        je go_quit
  1523 00000EFC EBEE                        jmp wait_input
  1524                                  
  1525                                  go_quit:
  1526 00000EFE 58                          pop ax
  1527 00000EFF C3                          ret
  1528                                      
  1529                                  do_restart:
  1530                                      ; Reset game variables
  1531 00000F00 C706[1C00]0000              mov word[second], 0
  1532 00000F06 C606[1F00]00                mov byte[clock], 0
  1533 00000F0B C606[0300]00                mov byte[start_game], 0      ; Important: reset this first
  1534 00000F10 C706[A400]2000              mov word[total_bricks], 32
  1535 00000F16 C606[B100]03                mov byte[live], 3
  1536 00000F1B C706[A200]0000              mov word[score], 0
  1537 00000F21 C606[230D]00                mov byte[end_game], 0        ; Clear end_game flag
  1538 00000F26 C706[2000]0000              mov word[bonus], 0
  1539 00000F2C C606[B500]00                mov byte[solid], 0
  1540 00000F31 C606[B600]00                mov byte[solid1], 0
  1541 00000F36 C706[1A00]040E              mov word[pre_stack_pos], 3588
  1542 00000F3C C606[B400]01                mov byte[StayOnStacker], 1
  1543                                      
  1544                                      ; Reset brick positions
  1545                                      ; [Add code to restore brick arrays to initial values]
  1546                                      
  1547 00000F41 58                          pop ax
  1548 00000F42 C3                          ret
  1549                                  
  1550                                  		
  1551                                  last_menu_display:
  1552 00000F43 50                      	push ax
  1553                                  	
  1554 00000F44 B8B202                  	mov ax , 690  ; row 6 col 25
  1555 00000F47 50                      	push ax
  1556 00000F48 B8[D201]                	mov ax ,total_score_str
  1557 00000F4B 50                      	push ax
  1558 00000F4C B81100                  	mov ax , 17
  1559 00000F4F 50                      	push ax
  1560 00000F50 E8FEF5                  	call printstr
  1561                                  	
  1562                                  	
  1563 00000F53 B8D802                  	mov ax , 728 ; row 6 col 25
  1564 00000F56 50                      	push ax
  1565 00000F57 FF36[A200]              	push word[score]
  1566 00000F5B E8B5F5                  	call printnum
  1567                                  	
  1568                                  	
  1569 00000F5E B83205                  	mov ax , 1330  ; row 6 col 25
  1570 00000F61 50                      	push ax
  1571 00000F62 B8[E501]                	mov ax ,lives_remain_str
  1572 00000F65 50                      	push ax
  1573 00000F66 B80F00                  	mov ax , 15
  1574 00000F69 50                      	push ax
  1575 00000F6A E8E4F5                  	call printstr
  1576                                  	
  1577 00000F6D B87005                  	mov ax , 1392 ; row 6 col 25
  1578 00000F70 50                      	push ax
  1579 00000F71 FF36[B100]              	push word[live]
  1580 00000F75 E89BF5                  	call printnum
  1581                                  	
  1582                                  	
  1583 00000F78 B87206                  	mov ax , 1650  ; row 6 col 25
  1584 00000F7B 50                      	push ax
  1585 00000F7C B8[1D02]                	mov ax ,restart_str
  1586 00000F7F 50                      	push ax
  1587 00000F80 B82200                  	mov ax , 34
  1588 00000F83 50                      	push ax
  1589 00000F84 E8CAF5                  	call printstr
  1590                                  	
  1591                                  	
  1592 00000F87 B8B207                  	mov ax , 1970  ; row 6 col 25
  1593 00000F8A 50                      	push ax
  1594 00000F8B B8[0302]                	mov ax , quit_str
  1595 00000F8E 50                      	push ax
  1596 00000F8F B81A00                  	mov ax , 26
  1597 00000F92 50                      	push ax
  1598 00000F93 E8BBF5                  	call printstr
  1599                                  	
  1600 00000F96 58                      	pop ax
  1601 00000F97 C3                      	ret
